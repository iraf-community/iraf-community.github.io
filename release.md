---
title: IRAF 2.16.1+ Release notes
---

# Release notes

The IRAF v2.16.1 snapshots are available from github at

[https://github.com/iraf-community/iraf/releases/latest/](https://github.com/iraf-community/iraf/releases/latest/)

The latest official IRAF release is 2.16.1 from March 2012. Our releases are
snapshots based on the latest available source code. The snapshots are tagged
with their release date in the version number. Changes to the original 2.16.1
sources include:

* __All known non-free code removed__

    Although IRAF 2.16.1 was claimed to be "free software", it contained
    source code that is not freely distributable; namely code copied from the
    book ["Numerical Recipes in Fortran"](http://numerical.recipes/). This
    code is replaced with free equivalents. The IRAF community edition is
    [Open Source](https://opensource.org/docs/osd), and as such included in
    Debian.

* __Major bug fixes__

  Many bugs of the 2.16.1 release are fixed. Some of he major ones are:
  
   - Linux systems crashed with "Out of memory" (13 year old bug;
     [2.12 release notes](https://github.com/iraf/iraf-v216/blob/9590f4/doc/notes.v212#L1065-L1075))
   
   - `noao.digiphot.photcal.fitparams` failed with a segmentation
     fault on 64-bit systems
     ([iraf.net](http://iraf.net/forum/viewtopic.php?showtopic=1467834))
   
   - The system wide IRAF installation changed the permissions of
     `/tmp/`, creating a major security hole in the system
     (https://github.com/iraf/iraf-v216/issues/23)
   
   - On Linux systems, self-compiled tasks gave wrong results
     ([iraf.net](http://iraf.net/forum/viewtopic.php?showtopic=1467841))
   
   - On modern systems, background execution did not work
     ([iraf.net](http://iraf.net/forum/viewtopic.php?showtopic=1467431))

* __Fixes to build and run IRAF on non-historic platforms__

  The original code produced errornous executables when build on Linux
  versions later than 2012, due to some funny hacks in the IRAF
  code. It also did not build from scratch, but required an already
  compiled IRAF version.

* __VO package and vocl removed__

    The VO package, and the vocl shell heavily depend on a number of
    Java jars, where the creation from sources is undocumented. The
    package also uses outdated VO standards. A discussion with Mike
    Fitzpatrick resulted in his plan to [move the VO functionality
    into an external
    package](https://github.com/iraf/iraf-v216/issues/90#issuecomment-310968834).
    Therefore, no attempt was put into getting these problems fixed,    and the VO stuff was cut out.  The VOTable functionality, however,
    remains available

* __IRAF ported to other architectures__

    IRAF is now ported to a number of little endian architectures
    (ARM, PowerPC, MIPS, x32) and operating systems (GNU Hurd and
    FreeBSD).

* __Simple CI test framework added__

    The tests are defined and documented in
    [MarkDown](https://github.com/iraf-community/iraf/blob/master/test/README.md)
    files. Tests are run on Travis CI on Linux and MacOS X platforms.

## Detailed list of changes

This list shows all pull requests that were merged since 2.16.1.

### Since 2.16.1+2018.03.10

* Implement the 'apropos' command
  ([#37](https://github.com/iraf-community/iraf/pull/37))
* Don't check for updates
  ([#36](https://github.com/iraf-community/iraf/pull/36))
* Update cfitsio to 3.440
  ([#34](https://github.com/iraf-community/iraf/pull/34))
* Fix background execution in cl and ecl
  ([#32](https://github.com/iraf-community/iraf/pull/32))
* Port IRAF to several architectures
  ([#31](https://github.com/iraf-community/iraf/pull/31))
  

### Since 2.16.1+2018.02.04

(Pull Requests from
[iraf/iraf-v216](https://github.com/iraf/iraf-v216/pull/))

* Update cfitsio to 3.430
  ([#135](https://github.com/iraf/iraf-v216/pull/135)
* Fix off-by-one problem in xppcode.c
  ([#133](https://github.com/iraf/iraf-v216/pull/133)
* Remove files that were generated by `generic.e` or `xyacc.e`
  ([#132](https://github.com/iraf/iraf-v216/pull/132)

### Since 2.16.1+2017.12.28

(Pull Requests from
[iraf/iraf-v216](https://github.com/iraf/iraf-v216/pull/))

* Make photcal 64-bit capable
  ([#130](https://github.com/iraf/iraf-v216/pull/130)
* f2c: Fix allocated size of Dimblock
  ([#127](https://github.com/iraf/iraf-v216/pull/127)

### Since 2.16.1

(Pull Requests from
[iraf/iraf-v216](https://github.com/iraf/iraf-v216/pull/))

* Check filepointer for `NULL` in `envinit` before trying to close.
  ([#126](https://github.com/iraf/iraf-v216/pull/126))
* Add the required credits for the IRAF64 project.
  ([#125](https://github.com/iraf/iraf-v216/pull/125))
* Use `strncpy` and `snprintf` to fill file header in wtar
  ([#124](https://github.com/iraf/iraf-v216/pull/124))
* Specify explicit format for `fprintf()`
  ([#123](https://github.com/iraf/iraf-v216/pull/123))
* Limit number of `finfo` structs returned by `KI_ZFINFO` to `MAX_ARGS`
  ([#122](https://github.com/iraf/iraf-v216/pull/122))
* Fix `isalnum()` and friends for non-ascii values
  ([#121](https://github.com/iraf/iraf-v216/pull/121))
* Use curl in `pkgget`
  ([#115](https://github.com/iraf/iraf-v216/pull/115))
* Fix comparison for some optional command line arguments in xc
  ([#111](https://github.com/iraf/iraf-v216/pull/111))
* Add a trailing `\0` to the end of variable format strings in `pkg/tbtables/fitsio/`
  ([#110](https://github.com/iraf/iraf-v216/pull/110))
* Fix OS dirnames in `README`
  ([#108](https://github.com/iraf/iraf-v216/pull/108))
* Adjust f2c's internal `integer` size for ILP64
  ([#107](https://github.com/iraf/iraf-v216/pull/107))
* Replace `d1mach.f` and `r1mach.f` by C sources
  ([#106](https://github.com/iraf/iraf-v216/pull/106))
* Handle negative pointers in `sys/nmemio`
  ([#105](https://github.com/iraf/iraf-v216/pull/105))
* Remove all executables and binaries in `make src`
  ([#104](https://github.com/iraf/iraf-v216/pull/104))
* _[linux64]_ Correct underlines in `mem` symbol in `zsvjmp.s`
  ([#102](https://github.com/iraf/iraf-v216/pull/102))
* Correct string length of `baseurl` initialization in `chkupdate.x`
  ([#101](https://github.com/iraf/iraf-v216/pull/101))
* Fix segfault when opening a `STRING_FILE`
  ([#100](https://github.com/iraf/iraf-v216/pull/100))
* Fix statement order in `vfn_expand_ldir`
  ([#99](https://github.com/iraf/iraf-v216/pull/99))
* Fix linenumber generation with `xpp -x` (rpp and spp))
  ([#98](https://github.com/iraf/iraf-v216/pull/98))
* Fix template expansion in `generic.c`
  ([#94](https://github.com/iraf/iraf-v216/pull/94))
* Remove VO related packages and libraries
  ([#93](https://github.com/iraf/iraf-v216/pull/93),
* Initialize `oscwd` in `zglobl.c`
  ([#91](https://github.com/iraf/iraf-v216/pull/91))
* Check for identical addresses before `strcpy()` in `mkpkg/tok.c`
  ([#89](https://github.com/iraf/iraf-v216/pull/89))
* Fix type of arguments for several procedure calls
  ([#88](https://github.com/iraf/iraf-v216/pull/88))
* Bugfix for `unix/os/gmttolst.c` and `unix/zgmtco.c`
  ([#87](https://github.com/iraf/iraf-v216/pull/87))
* Fix location of `yaccpar.x`
  ([#84](https://github.com/iraf/iraf-v216/pull/84))
* _[macosx]_ Fix syntax error in `readline/mkpkg` on macosx
  ([#83](https://github.com/iraf/iraf-v216/pull/83))
* Remove absolute paths from header
  ([#82](https://github.com/iraf/iraf-v216/pull/82))
* Reverse the condition when iraf should be set
  ([#81](https://github.com/iraf/iraf-v216/pull/81))
* _[macosx]_ Fix MacOSX min version on `zsvjmp_i386.s`
  ([#80](https://github.com/iraf/iraf-v216/pull/80))
* Fix lex source files in xpp and generic
  ([#79](https://github.com/iraf/iraf-v216/pull/79))
* _[macintel]_ Replace `setpgrp(...)` with POSIX `setpgid()`
  ([#78](https://github.com/iraf/iraf-v216/pull/78))
* Avoid identical src/target in `strcpy()` when creating library names in xc
  ([#77](https://github.com/iraf/iraf-v216/pull/77))
* _[linux]_ Consequently add `-m32` flags if compiling for linux(32))
  ([#76](https://github.com/iraf/iraf-v216/pull/76))
* Convert to ANSI C to fix return types of functions in `memlog.c`
  ([#75](https://github.com/iraf/iraf-v216/pull/75))
* Limit entries in bitmask to 64 bit.
  ([#74](https://github.com/iraf/iraf-v216/pull/74))
* Accept zero date in archives
  ([#71](https://github.com/iraf/iraf-v216/pull/71))
* Fix computation of offset in memory allocation at 32 bit
  ([#67](https://github.com/iraf/iraf-v216/pull/67))
* Fix `ADDR_TO_LOC` for i386 (32 bit))
  ([#62](https://github.com/iraf/iraf-v216/pull/62))
* Fix declaration of `cdsmem` in rpp
  ([#60](https://github.com/iraf/iraf-v216/pull/60))
* Force iraf to align on 128-bit boundaries
  ([#57](https://github.com/iraf/iraf-v216/pull/57))
* Remove `curl/types.h` includes
  ([#51](https://github.com/iraf/iraf-v216/pull/51))
* Fixed spelling error, "the" not "teh".
  ([#47](https://github.com/iraf/iraf-v216/pull/47))
* _[linux64]_ Call the PLT for `__sigsetjmp` instead of calling directly
  ([#45](https://github.com/iraf/iraf-v216/pull/45))
* Removed an extra `linux64`
  ([#44](https://github.com/iraf/iraf-v216/pull/44))
* Build vendor libs before starting the `NOVOS` build
  ([#40](https://github.com/iraf/iraf-v216/pull/40))
* Fixed recursive error in definition of `LFLAGS`
  ([#39](https://github.com/iraf/iraf-v216/pull/39))
* Convert `mklibs` to `/bin/sh`
  ([#38](https://github.com/iraf/iraf-v216/pull/38))
* Replace or remove non-free code (Numerical Recipes etc.))
  ([#37](https://github.com/iraf/iraf-v216/pull/37))
* Add continious integration testing with travis-CI
  ([#36](https://github.com/iraf/iraf-v216/pull/36))
* Replace absolute symlinks in sys/osb by relative ones
  ([#33](https://github.com/iraf/iraf-v216/pull/33))
* Don't remove sticky bit from /tmp on install
  ([#24](https://github.com/iraf/iraf-v216/pull/24))
* Fix setting of non-default IRAF root
  ([#22](https://github.com/iraf/iraf-v216/pull/22))
* Clean up sources from unnecessary code
  ([#2](https://github.com/iraf/iraf-v216/pull/2),
  [#14](https://github.com/iraf/iraf-v216/pull/14),
  [#15](https://github.com/iraf/iraf-v216/pull/15),
  [#16](https://github.com/iraf/iraf-v216/pull/16),
  [#17](https://github.com/iraf/iraf-v216/pull/17),
  [#18](https://github.com/iraf/iraf-v216/pull/18),
  [#20](https://github.com/iraf/iraf-v216/pull/20),
  [#25](https://github.com/iraf/iraf-v216/pull/25),
  [#68](https://github.com/iraf/iraf-v216/pull/68),
  [#69](https://github.com/iraf/iraf-v216/pull/69),
  [#70](https://github.com/iraf/iraf-v216/pull/70),
  [#113](https://github.com/iraf/iraf-v216/pull/113),
  [#116](https://github.com/iraf/iraf-v216/pull/116),
  [#117](https://github.com/iraf/iraf-v216/pull/117))
  
